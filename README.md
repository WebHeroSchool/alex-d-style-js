# Стиль кода

## Новые пункты:

## 0.1 Отдельный файл

Использование файла .js для кода Javascript более предпочтительно, чем включение скрипта в HTML документ, кроме того, браузер кеширует файл, в результате чего сайт работает быстрее.

Размещайте ваш код Javascript в файле .js, а затем с помощью тега script ваш HTML документ может импортировать код:

```
<script type='text/javascript' src='http://www.catswhocode.com/myscript.js'></script>
```

## 0.2 document.write

Старый верный метод document.write не рекомендуется использовать уже несколько лет. Однако он встречается еще очень часто в коде.

```
document.write("hello world");
```
Вместо использования нерекомендованного метода нужно применять функцию innerHTML в совокупности со структурой DOM, чтобы вставить текст на страницу:

```
document.getElementById('hello').innerHTML('hello world');
```

## 0.1 Сравнение 

Используйте === для сравнения вместо ==

Оператор == в действительности не сравнивает объекты, а пытается привести их типы. Для сравнения объектов в JavaScript используйте оператор ===

```
// неправильно:
0 == false //true
[] == false //true
```

```
// правильно:
0 === false //false
[] === false //false 
```

## 1. Фигурные скобки

Желательно каждый блок оборачивать в фигурные скобки, открывающая скобка на первой строке и перед ней пробел

```
if(a > 0) {
 // код
}
```
## 2. Длина строки

Максимальную длину строки согласовывают в команде. Как правило, это либо 80, либо 120 символов, в зависимости от того, какие мониторы у разработчиков.

Более длинные строки необходимо разбивать для улучшения читаемости.

```
// лучше использовать форматирование кода и не писать все в одну строку

// плохо читается:

const arr = [1, 2, 'word', 'longWord', 'somthing', 559885556, {name:'alex', age: 36} ];

// лучше:

const arr = [
  1,
  2,
  'word',
  'longWord',
  'somthing',
  559885556,
  {
    name:'alex',
    age: 36
  } 
  ];
```
## 3. Отступы

Отступы нужны двух типов:

### 3.1 Горизонтальный отступ, при вложенности – два(или четыре) пробела.

Как правило, используются именно пробелы, т.к. они позволяют сделать более гибкие «конфигурации отступов», чем символ «Tab».

Например, выровнять аргументы относительно открывающей скобки:

```
show("Строки" +
     " выровнены" +
     " строго" +
     " одна под другой");
```

### 3.2 Вертикальный отступ, для лучшей разбивки кода – перевод строки.

Используется, чтобы разделить логические блоки внутри одной функции. В примере разделены инициализация переменных, главный цикл и возвращение результата:

```
function pow(x, n) {
  var result = 1;
  
  for (var i = 0; i < n; i++) {
    result *= x;
  }
  
  return result;
}
```

Вставляйте дополнительный перевод строки туда, где это сделает код более читаемым. Не должно быть более 9 строк кода подряд без вертикального отступа.

## 4. Точка с запятой

Точки с запятой нужно ставить, даже если их, казалось бы, можно пропустить.

```

let num = 5;

const arr = [1, 2, 3];

if (true) console.log('str');

```

## 5. Именование

Общее правило:

Имя переменной – существительное.
Имя функции – глагол или начинается с глагола. Бывает, что имена для краткости делают существительными, но глаголы понятнее.

Для имён используется английский язык (не транслит) и верблюжья нотация.

```

let name = 'alex';

function getId () {
  // ...
}

```

## 6. Уровни вложенности

Уровней вложенности должно быть немного.

Например, проверки в циклах можно делать через «continue», чтобы не было дополнительного уровня if(..) { ... }:

Вместо:

```

for (var i = 0; i < 10; i++) {
  if (i подходит) {
    ... // <- уровень вложенности 2
  }
}

```

Используйте:

```

for (var i = 0; i < 10; i++) {
  if (i не подходит) continue;
  ...  // <- уровень вложенности 1
}

```

Также иногда вместо if можно использовать switch.

## 7. Комментарии

желательно оставлять кооментарии, поясняющие код или деляще код на смысловые блоки
```

/**
 * Возвращает x в степени n, только для натуральных n
 *
 * @param {number} x Число для возведения в степень.
 * @param {number} n Показатель степени, натуральное число.
 * @return {number} x в степени n.
 */
function pow(x, n) {
  ...
}

```
## 8. Функции должны быть небольшими

Если функця большая, следует разбить ее на несколько функций

```

// Первый вариант используется метка:

function showPrimes(n) {
  nextPrime: for (var i = 2; i < n; i++) {

    for (var j = 2; j < i; j++) {
      if (i % j == 0) continue nextPrime;
    }

    alert( i ); // простое
  }
}

// Второй вариант – дополнительная функцию isPrime(n) для проверки на простоту:

function showPrimes(n) {

  for (var i = 2; i < n; i++) {
    if (!isPrime(i)) continue;

    alert(i);  // простое
  }
}

function isPrime(n) {
  for (var i = 2; i < n; i++) {
    if ( n % i == 0) return false;
  }
  return true;
}

```
## 9. Функции – под кодом

Есть два способа расположить функции, необходимые для выполнения кода.

```

// Функции над кодом, который их использует

// объявить функции
function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}

// код, использующий функции
var elem = createElement();
setHandler(elem);
walkAround();

// Сначала код, а функции внизу:

// код, использующий функции
var elem = createElement();
setHandler(elem);
walkAround();

// --- функции ---

function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}

```
## 10. Аргументы функции

Предпочитаю помещать все аргументы функции в одну строку с именем функции. Если это превысит ограничение в 80 столбцов, аргументы должны быть обернуты строкой в ​​удобочитаемом виде. Чтобы сэкономить место, вы можете обернуть как можно ближе к 80 или поместить каждый аргумент в отдельной строке, чтобы улучшить читаемость. Отступы должны быть четыре пробела. Выравнивание в скобках разрешено, но не рекомендуется. Ниже приведены наиболее распространенные шаблоны для переноса аргументов:

```

// Аргументы начинаются с новой строки, с отступом в четыре пробела. Предпочтителен, когда аргументы не помещаются в одну строку с именем функции (или ключевым словом  "function"), но полностью помещаются во второй строке. Работает с очень длинными  именами функций, выдерживает переименование без перерасчета, мало места. 

doSomething(
    descriptiveArgumentOne, descriptiveArgumentTwo, descriptiveArgumentThree) {
  // …
}

// Если список аргументов длиннее 80 и нарушает правило прямоугольника то такой подход  не рекомендуется. 

doSomething(veryDescriptiveArgumentNumberOne, veryDescriptiveArgumentTwo,
    tableModelEventHandlerProxy, artichokeDescriptorAdapterIterator) {
  // …
}

// Каждый аршумент с отступом и на новой строке
doSomething(
    veryDescriptiveArgumentNumberOne,
    veryDescriptiveArgumentTwo,
    tableModelEventHandlerProxy,
    artichokeDescriptorAdapterIterator) {
  // …
}

```